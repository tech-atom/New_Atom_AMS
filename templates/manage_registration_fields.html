<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage Registration Fields - ATOM SHAALE</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Orbitron:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='futuristic-theme.css') }}">
    <style>
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .form-group {
            margin-bottom: 0;
        }
        
        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 0;
        }
        
        input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
            accent-color: #00ff9d;
        }
        
        .checkbox-group label {
            margin: 0 !important;
            cursor: pointer;
        }
        
        code {
            color: #00ff9d;
            background: rgba(0, 255, 157, 0.1);
            padding: 4px 8px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
        }
        
        .section {
            background: rgba(10, 14, 27, 0.6);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid rgba(0, 255, 157, 0.3);
        }
        
        .section h2 {
            color: #00ff9d;
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(0, 255, 157, 0.3);
            font-family: 'Century Gothic', 'Futura', sans-serif;
        }
        
        .action-buttons {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }
        
        .btn-small {
            padding: 8px 16px;
            font-size: 12px;
            border: 2px solid rgba(0, 255, 157, 0.4);
            border-radius: 8px;
            cursor: pointer;
            color: white;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            transition: all 0.3s;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(10px);
            font-weight: 600;
        }
        
        .btn-warning {
            border-color: rgba(245, 158, 11, 0.6);
            color: #f59e0b;
            background: rgba(245, 158, 11, 0.1);
        }
        
        .btn-warning:hover {
            background: rgba(245, 158, 11, 0.3);
            border-color: #f59e0b;
            box-shadow: 0 0 20px rgba(245, 158, 11, 0.5);
            transform: scale(1.05);
        }
        
        .btn-danger.btn-small {
            border-color: rgba(255, 68, 68, 0.6);
            color: #ff4444;
            background: rgba(255, 68, 68, 0.1);
        }
        
        .btn-danger.btn-small:hover {
            background: rgba(255, 68, 68, 0.3);
            border-color: #ff4444;
            box-shadow: 0 0 20px rgba(255, 68, 68, 0.5);
            transform: scale(1.05);
        }
        
        /* Add Field Button Hover Effect */
        button[type="submit"].btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 30px rgba(0, 255, 157, 0.5) !important;
            filter: brightness(1.1);
        }
        
        button[type="submit"].btn-primary:active {
            transform: translateY(0);
        }
        
        @media (max-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .btn-small {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="grid-overlay"></div>
    
    <script nonce="{{ csp_nonce() }}">
        for(let i = 0; i < 15; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 15 + 's';
            particle.style.animationDuration = (15 + Math.random() * 10) + 's';
            document.body.appendChild(particle);
        }
    </script>

    <div class="container">
        <div class="header">
            <h1>
                <svg width="48" height="48" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM8 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm.256 7a4.474 4.474 0 0 1-.229-1.004H3c.001-.246.154-.986.832-1.664C4.484 10.68 5.711 10 8 10c.26 0 .507.009.740.025.226-.341.496-.65.804-.918C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4s1 1 1 1h5.256Z"/>
                </svg>
                Customize Registration Form
            </h1>
            <p>Add custom fields to your student registration form. Changes appear immediately on the registration page.</p>
        </div>
        
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }}">
                        <svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16" style="vertical-align: middle; margin-right: 8px;">
                            {% if category == 'success' %}
                            <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
                            {% else %}
                            <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
                            {% endif %}
                        </svg>
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}
        
        <!-- Info Box -->
        <div style="background: linear-gradient(135deg, rgba(0, 255, 157, 0.1), rgba(0, 168, 255, 0.1)); border-left: 4px solid #00ff9d; padding: 20px; margin-bottom: 30px; border-radius: 12px;">
            <h3 style="color: #00ff9d; margin-bottom: 12px; font-size: 18px; display: flex; align-items: center; gap: 8px;">
                <svg width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                    <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
                </svg>
                How It Works
            </h3>
            <ul style="color: rgba(255, 255, 255, 0.85); line-height: 1.8; margin-left: 20px;">
                <li><strong>Field Name:</strong> Technical name (lowercase, no spaces) like <code>father_name</code> or <code>date_of_birth</code></li>
                <li><strong>Field Label:</strong> What students see on the form like "Father's Name" or "Date of Birth"</li>
                <li><strong>Field Type:</strong> Choose input type (text, email, dropdown, date, etc.)</li>
                <li><strong>Field Order:</strong> Controls display order (default fields: 0-5, custom fields: 10+)</li>
                <li><strong>Required:</strong> Check to make the field mandatory during registration</li>
                <li><strong>Active/Inactive:</strong> Toggle field visibility without deleting it</li>
            </ul>
        </div>
        
        <div class="section">
            <h2>
                <svg width="24" height="24" fill="currentColor" viewBox="0 0 16 16" style="vertical-align: middle; margin-right: 8px;">
                    <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                </svg>
                Add New Custom Field
            </h2>
            
            <!-- Examples Section -->
            <div style="background: rgba(0, 168, 255, 0.1); border-left: 3px solid #00a8ff; padding: 15px; margin-bottom: 25px; border-radius: 8px;">
                <strong style="color: #00a8ff; display: block; margin-bottom: 8px;">ðŸ’¡ Common Examples:</strong>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; color: rgba(255, 255, 255, 0.8); font-size: 14px;">
                    <div>â€¢ <code>father_name</code> â†’ "Father's Name"</div>
                    <div>â€¢ <code>mother_name</code> â†’ "Mother's Name"</div>
                    <div>â€¢ <code>date_of_birth</code> â†’ "Date of Birth"</div>
                    <div>â€¢ <code>address</code> â†’ "Home Address"</div>
                    <div>â€¢ <code>gender</code> â†’ "Gender" (dropdown)</div>
                    <div>â€¢ <code>blood_group</code> â†’ "Blood Group"</div>
                </div>
            </div>
            
            <form action="{{ url_for('add_registration_field') }}" method="POST">
                <input type="hidden" name="_csrf_token" value="{{ csrf_token() }}">
                <div class="form-grid">
                    <div class="form-group">
                        <label>
                            <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16" style="vertical-align: middle; margin-right: 6px;">
                                <path d="M12.643 15C13.979 15 15 13.845 15 12.5V5H1v7.5C1 13.845 2.021 15 3.357 15h9.286zM5.5 7h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1zM.8 1a.8.8 0 0 0-.8.8V3a.8.8 0 0 0 .8.8h14.4A.8.8 0 0 0 16 3V1.8a.8.8 0 0 0-.8-.8H.8z"/>
                            </svg>
                            Field Name (Technical):
                        </label>
                        <input type="text" name="field_name" required placeholder="e.g., father_name, address, date_of_birth" pattern="[a-z_]+" title="Only lowercase letters and underscores">
                        <small style="color: rgba(255, 255, 255, 0.6); font-size: 12px; display: block; margin-top: 5px;">Use lowercase letters and underscores only (e.g., father_name)</small>
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16" style="vertical-align: middle; margin-right: 6px;">
                                <path d="M2.5 3.5a.5.5 0 0 1 0-1h11a.5.5 0 0 1 0 1h-11zm0 3a.5.5 0 0 1 0-1h6a.5.5 0 0 1 0 1h-6zm0 3a.5.5 0 0 1 0-1h11a.5.5 0 0 1 0 1h-11z"/>
                            </svg>
                            Field Label (Display):
                        </label>
                        <input type="text" name="field_label" required placeholder="e.g., Father's Name, Home Address, Date of Birth">
                        <small style="color: rgba(255, 255, 255, 0.6); font-size: 12px; display: block; margin-top: 5px;">This is what students will see on the registration form</small>
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16" style="vertical-align: middle; margin-right: 6px;">
                                <path d="M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5v-3zm8 0A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5v-3zm-8 8A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5v-3zm8 0A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5v-3z"/>
                            </svg>
                            Field Type:
                        </label>
                        <select name="field_type" required>
                            <option value="text">Text Input</option>
                            <option value="email">Email</option>
                            <option value="number">Number</option>
                            <option value="tel">Phone Number</option>
                            <option value="date">Date</option>
                            <option value="select">Dropdown/Select</option>
                            <option value="textarea">Text Area (Long Text)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16" style="vertical-align: middle; margin-right: 6px;">
                                <path d="M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5v-3zM2.5 2a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm6.5.5A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3z"/>
                            </svg>
                            Field Order:
                        </label>
                        <input type="number" name="field_order" value="10" min="0">
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16" style="vertical-align: middle; margin-right: 6px;">
                                <path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm.5 2.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1zm0 3h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1zm0 3h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1 0-1z"/>
                            </svg>
                            Options (for dropdown):
                        </label>
                        <input type="text" name="field_options" placeholder="e.g., Male,Female,Other OR A+,A-,B+,B-,O+,O-">
                        <small style="color: rgba(255, 255, 255, 0.6); font-size: 12px; display: block; margin-top: 5px;">Comma-separated values. Required only for dropdown type.</small>
                    </div>
                    
                    <div class="form-group">
                        <div class="checkbox-group">
                            <input type="checkbox" name="is_required" id="is_required" checked>
                            <label for="is_required">Required Field</label>
                        </div>
                    </div>
                </div>
                
                <button type="submit" class="btn-primary" style="
                    margin-top: 10px;
                    width: 100%;
                    padding: 16px 30px;
                    font-size: 16px;
                    font-weight: 700;
                    background: linear-gradient(135deg, #00ff9d, #00a8ff);
                    border: none;
                    border-radius: 12px;
                    color: #000;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    gap: 10px;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    box-shadow: 0 4px 20px rgba(0, 255, 157, 0.3);
                ">
                    <svg width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                    </svg>
                    Add Field to Registration Form
                </button>
            </form>
        </div>
        
        <div class="section">
            <h2>
                <svg width="24" height="24" fill="currentColor" viewBox="0 0 16 16" style="vertical-align: middle; margin-right: 8px;">
                    <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"/>
                    <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319z"/>
                </svg>
                Current Registration Fields
            </h2>
            
            <div style="background: rgba(0, 255, 157, 0.05); padding: 15px; margin-bottom: 20px; border-radius: 8px; border: 1px solid rgba(0, 255, 157, 0.2);">
                <p style="color: rgba(255, 255, 255, 0.8); margin: 0; font-size: 14px;">
                    <svg width="18" height="18" fill="#00ff9d" viewBox="0 0 16 16" style="vertical-align: middle; margin-right: 6px;">
                        <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                        <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
                    </svg>
                    <strong>Active fields</strong> appear on the registration form. <strong>Inactive fields</strong> are hidden but not deleted. You can toggle visibility anytime.
                </p>
            </div>
            
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Order</th>
                            <th>Field Name</th>
                            <th>Label</th>
                            <th>Type</th>
                            <th>Required</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for field in fields %}
                        <tr>
                            <td>{{ field[6] }}</td>
                            <td><code>{{ field[1] }}</code></td>
                            <td>{{ field[2] }}</td>
                            <td>{{ field[3] }}</td>
                            <td>
                                {% if field[5] %}
                                <span class="badge badge-danger">Required</span>
                                {% else %}
                                <span class="badge badge-success">Optional</span>
                                {% endif %}
                            </td>
                            <td>
                                {% if field[7] %}
                                <span class="badge badge-success">Active</span>
                                {% else %}
                                <span class="badge badge-warning">Inactive</span>
                                {% endif %}
                            </td>
                            <td>
                                <div class="action-buttons">
                                    <form action="{{ url_for('toggle_registration_field', field_id=field[0]) }}" method="POST" style="display:inline;">
                                        <input type="hidden" name="_csrf_token" value="{{ csrf_token() }}">
                                        <button type="submit" class="btn-small btn-warning">
                                            <svg width="14" height="14" fill="currentColor" viewBox="0 0 16 16">
                                                {% if field[7] %}
                                                <path d="M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"/>
                                                <path d="M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"/>
                                                {% else %}
                                                <path d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"/>
                                                <path d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z"/>
                                                <path d="M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z"/>
                                                {% endif %}
                                            </svg>
                                            {% if field[7] %}Hide{% else %}Show{% endif %}
                                        </button>
                                    </form>
                                    
                                    <form action="{{ url_for('delete_registration_field', field_id=field[0]) }}" method="POST" 
                                          style="display:inline;" 
                                          class="delete-field-form">
                                        <input type="hidden" name="_csrf_token" value="{{ csrf_token() }}">
                                        <button type="submit" class="btn-small btn-danger">
                                            <svg width="14" height="14" fill="currentColor" viewBox="0 0 16 16">
                                                <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
                                                <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
                                            </svg>
                                            Delete
                                        </button>
                                    </form>
                                </div>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
        
        <div style="text-align: center; margin-top: 40px;">
            <a href="{{ url_for('admin_dashboard') }}" class="btn">
                <svg width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"/>
                </svg>
                Back to Admin Dashboard
            </a>
        </div>
    </div>
    
    <script nonce="{{ csp_nonce() }}">
        // Add confirmation dialog to delete forms
        document.addEventListener('DOMContentLoaded', function() {
            const deleteForms = document.querySelectorAll('.delete-field-form');
            deleteForms.forEach(function(form) {
                form.addEventListener('submit', function(e) {
                    if (!confirm('Are you sure you want to delete this field? This action cannot be undone!')) {
                        e.preventDefault();
                        return false;
                    }
                });
            });
        });
    </script>
</body>
</html>
